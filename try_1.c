#include <stdio.h>
#include <windows.h>
// int main(void){
//     MessageBoxW(NULL, L"msg box", L"Hello world!",
//     MB_YESNOCANCEL|MB_ICONEXCLAMATION)
// }

int main(void) {
  STARTUPINFOW si;
  PROCESS_INFORMATION pi;

  if (!CreateProcessW(L"C:\\Windows\\System32\\programe.exe", NULL, NULL, NULL,
                      FALSE, BELOW_NORMAL_PRIORITY_CLASS, NULL, NULL, &si,
                      &pi)) {
    DWORD error = GetLastError();
    WCHAR errorMessage[256];
    wsprintfW(errorMessage, L"process wasn't created due to: %ld", error);

    MessageBoxW(NULL, errorMessage, L"Encountered an Error",
                MB_OKCANCEL | MB_ICONERROR);
    return EXIT_FAILURE;
  } else {
    printf("process created with id: %d\n", pi.dwProcessId);
  }
}
